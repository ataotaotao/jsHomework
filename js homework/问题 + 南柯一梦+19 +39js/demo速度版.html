<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style type="text/css">
	body{
		margin:0;
		padding:0;
	}
	i{
		font-style:normal;
	}
	#box{
		position:relative;
		width:800px;
		height:400px;
		margin:100px auto;
	}
	#box .btn{
		position:absolute;
		left:0;
		right:0;
		margin:auto;
		bottom:20px;
		width:160px;
		height:25px;
		border:1px solid red;
		z-index:1;
		font-size:0;
	}
	#box .btn span{
		display:inline-block;
		width:20px;
		height:20px;
		border-radius:50%;
		margin:0 2px;
		border:1px solid red;
		vertical-align:middle;
	}
	#box p{
		position:absolute;
		top:calc( 50% - 25px );
		width:40px;
		line-height:50px;
		text-align:center;
		background-color:#000;
		color:#fff;
		font-weight:bold;
		z-index:1;
	}
	#box p:nth-of-type(1){
		left:0;
	}
	#box p:nth-of-type(2){
		right:0;
	}
	.img{
		position:relative;
		width:800px;
		height:400px;
	}
	.img img{
		position:absolute;
		width:800px;
		height:400px;
	}
  </style>
 </head>
 <body>
	<div id="box">
		<div class="btn">
			<span></span>
			<span></span>
			<span></span>
			<span></span>
			<span></span>
			<span></span>
		</div>
		<p>&lt;</p>
		<p>&gt;</p>
		<div class="img">
			<img src="images/1.jpg" alt="" width='400' height='200'/>
			<img src="images/2.jpg" alt="" width='400' height='200'/>
			<img src="images/3.jpg" alt="" width='400' height='200'/>
			<img src="images/4.jpg" alt="" width='400' height='200'/>
			<img src="images/5.jpg" alt="" width='400' height='200'/>
			<img src="images/6.jpg" alt="" width='400' height='200'/>
		</div>
	</div>
 </body>
 <script type="text/javascript" src='js/animation()封装.js'></script>
 <script type="text/javascript">
		var aSpan=document.getElementsByTagName('span');
		var aP=document.getElementsByTagName('p');
		var aImg=document.getElementsByTagName('img');

		var num=0;

		//初始化
		//img初始化
		for( var i=0;i<aImg.length;i++){
			aImg[i].style.opacity=  i==0? 1:0;
		}

		//span初始化
		aSpan[0].style.backgroundColor='red';

		//点击左右切换图片
		for( var i=0;i<aP.length;i++){
			aP[i].index=i;
			aP[i].onclick=function(){
				animation( aImg[num],'opacity',0,-0.02);
				aSpan[num].style.backgroundColor='';
				if( this.index==0 ){
					num--;
				}else{
					num++;
				}
				num=Math.max( num,0 );
				num=Math.min( num,aSpan.length-1 );
				animation( aImg[num],'opacity',1,0.02);
				aSpan[num].style.backgroundColor='red';
			}
		}

		//点击按钮切换
		for( var i=0;i<aSpan.length;i++){
			aSpan[i].index=i;
			aSpan[i].onclick=function(){
				animation( aImg[num],'opacity',0,-0.02);
				aSpan[num].style.backgroundColor='';
				this.style.backgroundColor='red';
				animation.bind( this )( aImg[this.index],'opacity',1,0.02 );
				num=this.index;
			}
		}
 </script>
</html>
